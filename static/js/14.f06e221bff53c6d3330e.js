webpackJsonp([14],{"8CYO":function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=function(t){this.ctx=document.querySelector("#"+t).getContext("2d"),this.space=20,this.width=this.ctx.canvas.width,this.height=this.ctx.canvas.height,this.x0=this.space,this.y0=this.height-this.space,this.arrow=10,this.edge=10};s.prototype.init=function(t){this.drawAxis(),this.drawDotted(t)},s.prototype.drawAxis=function(){this.ctx.moveTo(this.x0,this.y0),this.ctx.lineTo(this.width-this.space,this.y0),this.ctx.lineTo(this.width-this.space-this.arrow,this.y0+this.arrow/2),this.ctx.lineTo(this.width-this.space-this.arrow,this.y0-this.arrow/2),this.ctx.lineTo(this.width-this.space,this.y0),this.ctx.stroke(),this.ctx.fill(),this.ctx.moveTo(this.x0,this.y0),this.ctx.lineTo(this.space,this.space),this.ctx.lineTo(this.space+this.arrow/2,this.space+this.arrow),this.ctx.lineTo(this.space-this.arrow/2,this.space+this.arrow),this.ctx.lineTo(this.space,this.space),this.ctx.stroke(),this.ctx.fill()},s.prototype.formatDot=function(t){var i=this,e=[];return t.forEach(function(t,s){var h=t.x+i.x0,n=i.y0-t.y;e.push({x:h,y:n})}),e},s.prototype.drawDotted=function(t){var i=this,e=this.formatDot(t);e.forEach(function(t,s){i.ctx.beginPath(),i.ctx.moveTo(t.x-i.edge/2,t.y-i.edge/2),i.ctx.lineTo(t.x+i.edge/2,t.y-i.edge/2),i.ctx.lineTo(t.x+i.edge/2,t.y+i.edge/2),i.ctx.lineTo(t.x-i.edge/2,t.y+i.edge/2),i.ctx.closePath(),i.ctx.fill(),i.ctx.beginPath(),s+""=="0"?i.ctx.moveTo(i.x0,i.y0):i.ctx.moveTo(e[s-1].x,e[s-1].y),i.ctx.lineTo(t.x,t.y),i.ctx.stroke()})};var h=function(t){this.ctx=document.querySelector("#"+t).getContext("2d"),this.canvasWidth=this.ctx.canvas.width,this.canvasHeight=this.ctx.canvas.height,this.x0=this.canvasWidth/2+50,this.y0=this.canvasHeight/2,this.radius=150,this.lineOut=20};h.prototype.init=function(t){this.drawPie(t)},h.prototype.transform=function(t){var i=[],e=0;return t.forEach(function(t){e+=t.num}),t.forEach(function(t){var s=t.num/e*2*Math.PI;i.push({title:t.title,num:t.num,angle:s})}),i},h.prototype.getRandomColor=function(){return"rgb("+Math.floor(256*Math.random())+","+Math.floor(256*Math.random())+","+Math.floor(256*Math.random())+")"},h.prototype.drawPie=function(t){var i=this,e=i.transform(t);console.log(e);var s=0;e.forEach(function(t,e){i.ctx.beginPath(),i.ctx.moveTo(i.x0,i.y0),i.ctx.arc(i.x0,i.y0,i.radius,s,s+t.angle);var h=i.ctx.fillStyle=i.getRandomColor();i.ctx.fill(),i.drawTitle(s,t.angle,h,t.title),i.drawDesc(h,t.title,e),s+=t.angle})},h.prototype.drawTitle=function(t,i,e,s){var h=this.radius+this.lineOut,n=Math.cos(t+i/2)*h,o=Math.sin(t+i/2)*h;this.ctx.beginPath(),this.ctx.moveTo(this.x0,this.y0),this.ctx.lineTo(this.x0+n,this.y0+o);var c=this.ctx.measureText(s).width;n>0?(this.ctx.lineTo(this.x0+n+c,this.y0+o),this.ctx.textAlign="left"):(this.ctx.lineTo(this.x0+n-c,this.y0+o),this.ctx.textAlign="right"),this.ctx.textBaseline="bottom",this.ctx.fillText(s,this.x0+n,this.y0+o),this.ctx.strokeStyle=e,this.ctx.stroke()},h.prototype.drawDesc=function(t,i,e){this.ctx.beginPath(),this.ctx.fillRect(20,20+26*e,30,16),this.ctx.textAlign="left",this.ctx.fillText(i,60,20+26*e+16)};var n={name:"home",data:function(){return{line:[{x:100,y:80},{x:200,y:120},{x:300,y:250},{x:400,y:340},{x:500,y:230}],cake:[{title:"15-20岁",num:13},{title:"20-25岁",num:20},{title:"25-30岁",num:9},{title:"30-35岁",num:6},{title:"35-40岁",num:15}]}},mounted:function(){this.init()},methods:{init:function(){new s("line").init(this.line),new h("cake").init(this.cake)}}},o={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("div",[i("canvas",{attrs:{width:"600",height:"400",id:"line"}}),this._v(" "),i("canvas",{attrs:{width:"600",height:"400",id:"cake"}})])}]};var c=e("VU/8")(n,o,!1,function(t){e("QUzb")},null,null);i.default=c.exports},QUzb:function(t,i){}});
//# sourceMappingURL=14.f06e221bff53c6d3330e.js.map